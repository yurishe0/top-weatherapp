(()=>{"use strict";var e={d:(t,r)=>{for(var c in r)e.o(r,c)&&!e.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:r[c]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{m:()=>a});class t{static async weatherApiRequest(e){const t=await fetch(`https://api.weatherapi.com/v1/current.json?key=0d93acb2b01144a2971185324231710&q=${e}`);return await t.json()}static async getWeatherData(e){const t=await this.weatherApiRequest(e);return console.log(t),{location:{country:t.location.country,city:t.location.name},weather:{temperatureC:t.current.temp_c,temperatureF:t.current.temp_f,feelsLikeC:t.current.feelslike_c,feelsLikeF:t.current.feelslike_f,humidity:t.current.humidity,precipIn:t.current.precip_in,precipMm:t.current.precip_mm,windKph:t.current.wind_kph,windMph:t.current.wind_mph,condition:t.current.condition.text,weatherIcon:t.current.condition.icon},isDay:t.current.is_day,lastUpdated:t.current.last_updated,localTime:t.location.localtime.slice(11)}}}class r{static updateBackground(e,t){let r;if(t)switch(e){case"Clear":case"Sunny":r="sunny";break;case"Light rain":case"Rain":case"Patchy rain possible":r="rain";break;case"Cloudy":case"Partly cloudy":case"Overcast":r="cloudy"}else r="night";const c=document.querySelector("#site-container"),n=Math.floor(5*Math.random());c.style.opacity=0,setTimeout((()=>{c.style.backgroundImage=`radial-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.2)), url("./images/backgrounds/${r}/${n}.jpg")`,c.style.opacity=1}),500)}static showData(e){a.city.textContent=e.location.city,a.country.textContent=e.location.country,a.weatherName.textContent=e.weather.condition,a.temperature.textContent=e.weather.temperatureC,a.feelsLike.textContent=e.weather.feelsLikeC,a.precip.textContent=e.weather.precipMm,a.wind.textContent=e.weather.windKph,a.humidity.textContent=e.weather.humidity,a.time.textContent=e.localTime,console.log(e.weather.condition,e.localTime),this.generateIcons(e.weather.condition,e.isDay)}static generateIcons(e,t){let r;switch(e){case"Clear":r=t?"clear_day":"clear_night";case"Sunny":r="clear_day";break;case"Light rain":case"Rain":case"Patchy rain possible":r="rainy";break;case"Cloudy":case"Partly cloudy":r=t?"partly_cloudy_day":"partly_cloudy_night";break;case"Overcast":r="cloud"}a.generalIcon.innerText=r,a.temperatureIcon.innerText="thermostat",a.precipIcon.innerText="humidity_percentage",a.windIcon.innerText="air",a.humidityIcon.innerText="humidity_mid"}}const c=document.querySelector("#location"),n=document.querySelector("button"),a={city:document.querySelector("h1"),country:document.querySelector("h2"),generalIcon:document.querySelector("#general-icon"),weatherName:document.querySelector("#weather-name"),temperature:document.querySelector("#temperature"),temperatureIcon:document.querySelector("#temperature-icon"),feelsLike:document.querySelector("#feelslike"),precip:document.querySelector("#precip"),precipIcon:document.querySelector("#precip-icon"),wind:document.querySelector("#wind"),windIcon:document.querySelector("#wind-icon"),humidity:document.querySelector("#humidity"),humidityIcon:document.querySelector("#humidity-icon"),time:document.querySelector("#time")};n.addEventListener("click",(async()=>{const e=await t.getWeatherData(c.value);r.updateBackground(e.weather.condition,e.isDay),setTimeout((()=>{r.showData(e)}),500)}))})();