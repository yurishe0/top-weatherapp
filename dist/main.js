(()=>{"use strict";var e={d:(t,a)=>{for(var c in a)e.o(a,c)&&!e.o(t,c)&&Object.defineProperty(t,c,{enumerable:!0,get:a[c]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};e.d({},{m:()=>n});class t{static async weatherApiRequest(e){const t=await fetch(`https://api.weatherapi.com/v1/current.json?key=0d93acb2b01144a2971185324231710&q=${e}`);return await t.json()}static async forecastApiRequest(e){const t=await fetch(`https://api.weatherapi.com/v1/forecast.json?key=0d93acb2b01144a2971185324231710&q=${e}`);return await t.json()}static async getWeatherData(e){const t=await this.weatherApiRequest(e);return console.log(t),{location:{country:t.location.country,city:t.location.name},weather:{temperatureC:t.current.temp_c,temperatureF:t.current.temp_f,feelsLikeF:t.current.feelslike_f,humidity:t.current.humidity,precipIn:t.current.precip_in,precipMm:t.current.precip_mm,windKph:t.current.wind_kph,windMph:t.current.wind_mph,condition:t.current.condition.text,weatherIcon:t.current.condition.icon},isDay:t.current.is_day,lastUpdated:t.current.last_updated,localTime:t.location.localtime.slice(11)}}static async getForecastData(e){const t=await this.forecastApiRequest(e);console.log(t)}}class a{static updateBackground(e,t){let a;if(t)switch(e){case"Clear":case"Sunny":a="sunny";break;case"Light rain":case"Rain":case"Patchy rain possible":a="rain";break;case"Cloudy":case"Partly cloudy":case"Overcast":a="cloudy"}else a="night";const c=document.querySelector("#site-container"),r=Math.floor(5*Math.random());c.style.opacity=0,setTimeout((()=>{c.style.backgroundImage=`radial-gradient(rgba(0,0,0,0.8), rgba(0,0,0,0.2)), url("./images/backgrounds/${a}/${r}.jpg")`,c.style.opacity=1}),500)}static showData(e){n.city.textContent=e.location.city,n.country.textContent=e.location.country,n.weatherName.textContent=e.weather.condition.toUpperCase(),n.temperature.textContent=`${e.weather.temperatureC}Â°C`,n.precip.textContent=`${e.weather.precipMm} mm`,n.wind.textContent=`${e.weather.windKph} km/h`,n.humidity.textContent=`${e.weather.humidity}%`,n.time.textContent=e.localTime,this.generateIcons(e.weather.condition,e.isDay)}static generateIcons(e,t){let a;switch(e){case"Clear":a=t?"clear_day":"clear_night";case"Sunny":a="clear_day";break;case"Light rain":case"Rain":case"Patchy rain possible":a="rainy";break;case"Cloudy":case"Partly cloudy":a=t?"partly_cloudy_day":"partly_cloudy_night";break;case"Overcast":a="cloud"}n.temperatureIcon.innerText="thermostat",n.precipIcon.innerText="humidity_percentage",n.windIcon.innerText="air",n.humidityIcon.innerText="humidity_mid"}}const c=document.querySelector("#location"),r=document.querySelector("button"),n={city:document.querySelector("h1"),country:document.querySelector("h2"),generalIcon:document.querySelector("#general-icon"),weatherName:document.querySelector("#weather-name"),temperature:document.querySelector("#temperature"),temperatureIcon:document.querySelector("#temperature-icon"),precip:document.querySelector("#precip"),precipIcon:document.querySelector("#precip-icon"),wind:document.querySelector("#wind"),windIcon:document.querySelector("#wind-icon"),humidity:document.querySelector("#humidity"),humidityIcon:document.querySelector("#humidity-icon"),time:document.querySelector("#time")};r.addEventListener("click",(async()=>{const e=await t.getWeatherData(c.value);t.getForecastData(c.value),a.updateBackground(e.weather.condition,e.isDay),setTimeout((()=>{a.showData(e)}),500)}))})();